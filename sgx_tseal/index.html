<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `sgx_tseal` crate."><meta name="keywords" content="rust, rustlang, rust-lang, sgx_tseal"><title>sgx_tseal - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../sgx_tseal/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate sgx_tseal</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all sgx_tseal's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'sgx_tseal', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/sgx_tseal/lib.rs.html#18-93' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>sgx_tseal</a></span></h1><div class='docblock'><h1 id="intelr-software-guard-extensions-sealing-and-unsealing-functions" class="section-header"><a href="#intelr-software-guard-extensions-sealing-and-unsealing-functions">Intel(R) Software Guard Extensions Sealing and Unsealing Functions</a></h1>
<p>The library provides the following functions:</p>
<ul>
<li>Exposes APIs to create sealed data which is both confidentiality andintegrity protected.</li>
<li>Exposes an API to unseal sealed data inside the enclave.</li>
<li>Provides APIs to authenticate and verify the input data with AES-GMAC.</li>
</ul>
<p>The library also provides APIs to help calculate the sealed data size, encrypt text length, and Message Authentication Code (MAC) text length.</p>
<h1 id="description" class="section-header"><a href="#description">Description</a></h1>
<p>When an enclave is instantiated, it provides protections (confidentiality and
integrity) to the data by keeping it within the boundary of the enclave. Enclave
developers should identify enclave data and/or state that is considered secret
and potentially needs preservation across the following enclave destruction
events:</p>
<ul>
<li>Application is done with the enclave and closes it.</li>
<li>Application itself is closed.</li>
<li>The platform is hibernated or shutdown.</li>
</ul>
<p>In general, the secrets provisioned within an enclave are lost when the enclave
is closed. However if the secret data needs to be preserved during one of
these events for future use within an enclave, it must be stored outside the
enclave boundary before closing the enclave. In order to protect and preserve
the data, a mechanism is in place which allows enclave software to retrieve a
key unique to that enclave. This key can only be generated by that enclave on
that particular platform. Enclave software uses that key to encrypt data to the
platform or to decrypt data already on the platform. Refer to these encrypt
and decrypt operations as sealing and unsealing respectively as the data is
cryptographically sealed to the enclave and platform.</p>
<p>To provide strong protection against potential key-wear-out attacks, a unique
seal key is generated for each data blob encrypted with the seal_data
API call. A key ID for each encrypted data blob is stored in clear alongside the
encrypted data blob. The key ID is used to re-generate the seal key to decrypt
the data blob.</p>
<p>AES-GCM (AES – Advanced Encryption Standard) is utilized to encrypt and
MAC-protect the payload. To protect against software-based side channel
attacks, the crypto implementation of AES-GCM utilizes AES-NI, which is
immune to software-based side channel attacks. The Galois/Counter Mode
(GCM) is a mode of operation of the AES algorithm. GCM assures authenticity
of the confidential data (of up to about 64 GB per invocation) using a universal
hash function. GCM can also provide authentication assurance for additional
data (of practically unlimited length per invocation) that is not encrypted. GCM
can also provide authentication assurance for additional data (of practically
unlimited length per invocation) that is not encrypted. If the GCM input contains
only data that is not to be encrypted, the resulting specialization of GCM,
called GMAC (Galois Message Authentication Code), is simply an authentication
mode for the input data. The mac_aadata API call restricts the input to
non-confidential data to provide data origin authentication only. The single
output of this function is the authentication tag.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.SgxMacAadata.html" title='sgx_tseal::SgxMacAadata struct'>SgxMacAadata</a></td><td class='docblock-short'><p>The structure about sealed data, for authenticate and verify.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SgxSealedData.html" title='sgx_tseal::SgxSealedData struct'>SgxSealedData</a></td><td class='docblock-short'><p>The structure about the sealed data.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SgxUnsealedData.html" title='sgx_tseal::SgxUnsealedData struct'>SgxUnsealedData</a></td><td class='docblock-short'><p>The structure about the unsealed data.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "sgx_tseal";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>